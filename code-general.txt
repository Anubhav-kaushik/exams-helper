function removeUnwantedCharacters(e){return e=(e=e.replace(".","")).replace(" ","")}function compareOptions(e,t){return(e=removeUnwantedCharacters(e))==(t=removeUnwantedCharacters(t))}function getOptions(e){let t=e.querySelectorAll("table"),r=t[0],n=t[1],l=r.querySelector(".rightAns").innerText[0],a=n.querySelectorAll("tr"),o=a[a.length-1],c=o.querySelectorAll("td")[1].innerText[0];return[l,c]}function calculateMarks(e,t,r){let n=e*r.correct,l=t*r.incorrect;return n-l}function findTotal(e,t=null){let r={"Total Attempted":0,"Correct Questions":0,"Incorrect Questions":0,"Marks Obtained":0,"Out of":0};for(let n in e)if(n!=t)for(let l in r)r[l]+=e[n][l];return r}function createSummaryItem(e,t,r=1){let n=document.createElement("div");n.classList.add("summary-item"),n.setAttribute("data-item-type",`accent-${r}`);let l=document.createElement("div");l.classList.add("flex-group");let a=document.createElement("h3");a.classList.add("summary-item-title"),a.innerHTML=e,l.append(a),n.append(l);let o=document.createElement("p");o.classList.add("summary-score");let c=document.createElement("span");c.innerHTML=t["Marks Obtained"];let i=document.createElement("span");return i.innerHTML=t["Out of"],o.innerHTML=c.outerHTML+" / "+i.outerHTML,n.append(o),`${n.outerHTML}`}function createFinalScoreBlock(e){let t='<main> <link rel="stylesheet" href="https://anubhav-kaushik.github.io/marksCalc/style.css"> <div class="result-summary"> <div class="results grid-flow" data-spacing="large"> <h1 class="section-title">Your Result</h1> <p class="result-score"><span>{{total-marks-obtained}}</span> of {{out-of-total}}</p> <div class="grid-flow"> <p class="result-rank">Great</p> </div> </div> <div class="summary grid-flow" data-spacing="large"> <h2 class="section-title">Summary</h2> <div class="grid-flow">',r=e["Marks Obtained"],n=e["Out of"];return(t=t.replace("{{total-marks-obtained}}",`${r}`)).replace("{{out-of-total}}",`${n}`)}function getFinalTemplate(e){let t=createFinalScoreBlock(e.Total),r=0;for(let n in e){if("Total"==n)continue;r+=1;let l=createSummaryItem(n,e[n],r);t+=l}return t+"</div> </div> </div></main>"}function addResultToPage(e,t=".main-info-pnl"){let r=document.querySelector(t);r.innerHTML="",r.innerHTML=getFinalTemplate(e)}function markQues(e,t){e.setAttribute("data-mark",{correct:"correct",incorrect:"incorrect",notAttempted:"NA"}[t])}function getCandidateInfo(e){let t=e.querySelector("table").querySelectorAll("tr"),r={};for(let n of t){let l=n.querySelectorAll("td");r[l[0].innerText]=l[1].innerText}return r}function main(e,t,r,n,l,a){let o=e.querySelectorAll(t),c=[],i={},s=getCandidateInfo(e.querySelector(".main-info-pnl"));for(let u of o){let d=u.querySelectorAll(n),m=u.querySelector(r).querySelector(".bold").innerText;c.push(m);let f=0,p=0,g=0;for(let y of d){let T,h;if([T,h]=getOptions(y),"-"==h){g+=1,markQues(y,"notAttempted");continue}compareOptions(T,h)?(f+=1,markQues(y,"correct")):(p+=1,markQues(y,"incorrect"))}let k=calculateMarks(f,p,l[a]),S={"Total Attempted":f+p,"Correct Questions":f,"Incorrect Questions":p,"Marks Obtained":k,"Out of":(f+p+g)*l[a].correct};i[m]=S}let v="";return"tier2"==a&&(v=c[c.length-1]),i.Total=findTotal(i,v),[s,i]}const page=document.querySelector("html")//end